"""
Caso de uso para obtener dashboard
Path: src/use_cases/get_dashboard.py
"""

import locale
from datetime import datetime
from src.entities.dashboard import Dashboard

def get_dashboard(periodo, fecha, turno):
    "Lógica de negocio principal para obtener los datos del dashboard"
    # Configura el locale a español
    try:
        locale.setlocale(locale.LC_TIME, 'es_ES.UTF-8')
    except locale.Error:
        locale.setlocale(locale.LC_TIME, 'Spanish_Spain.1252')  # Para Windows

    # Convierte la fecha a objeto datetime (asumiendo formato 'YYYY-MM-DD')
    dt = datetime.strptime(fecha, "%Y-%m-%d")
    # Formatea la fecha como 'Miércoles 10 de septiembre del 2025'
    title = dt.strftime("%A %d de %B del %Y").capitalize()

    return Dashboard(
        meta={
            "title": title,
            "date": fecha,
            "turno": turno,
            "periodo": periodo
        },
        series={
            "hoy": {
                "data": [None]*288
            },
            "ayer": {
                "data": [43, 40, 82, 48, 71, 64, 100, 93, 79, 56, 82, 53, 42, 60, 95, 40, 84, 101, 101, 72, 75, 94, 84, 44, 60, 95, 44, 70, 80, 68, 95, 70, 42, 44, 76, 46, 108, 40, 108, 84, 47, 71, 90, 104, 44, 70, 47, 57, 79, 102, 55, 90, 95, 80, 98, 57, 79, 83, 55, 68, 88, 41, 55, 42, 67, 94, 99, 98, 96, 75, 96, 63, 67, 50, 64, 74, 70, 51, 48, 67, 59, 91, 73, 93, 84, 90, 89, 51, 65, 106, 85, 87, 84, 83, 68, 59, 92, 77, 93, 101, 97, 44, 67, 109, 98, 62, 81, 73, 85, 67, 100, 44, 93, 69, 64, 98, 50, 88, 56, 47, 52, 44, 90, 91, 105, 62, 54, 93, 68, 103, 82, 76, 82, 46, 66, 105, 68, 108, 93, 92, 102, 94, 81, 96, 49, 66, 64, 62, 101, 54, 63, 62, 62, 81, 96, 41, 77, 93, 46, 62, 42, 42, 70, 100, 99, 110, 70, 59, 110, 104, 50, 58, 80, 76, 69, 82, 53, 81, 48, 91, 57, 92, 80, 64, 84, 42, 91, 103, 75, 50, 75, 99, 48, 42, 73, 41, 62, 67, 63, 51, 80, 66, 89, 83, 81, 101, 57, 56, 62, 53, 76, 92, 81, 77, 72, 89, 102, 103, 91, 105, 43, 102, 102, 78, 63, 63, 94, 60, 89, 81, 97, 61, 83, 104, 101, 91, 104, 45, 83, 46, 72, 65, 67, 108, 99, 70, 75, 64, 88, 68, 62, 83, 100, 67, 71, 50, 94, 74, 108, 40, 98, 90, 82, 62, 76, 49, 87, 50, 64, 96, 59, 47, 49, 56, 105, 73, 43, 45, 79, 65, 106, 62, 45, 79, 56, 77, 43, 92]
            },
            "semana_anterior": {
                "data": [100, 73, 45, 99, 34, 76, 60, 32, 50, 69, 51, 79, 80, 77, 39, 50, 91, 90, 55, 76, 98, 97, 98, 55, 53, 52, 40, 83, 32, 32, 38, 85, 55, 89, 64, 51, 66, 74, 94, 46, 84, 87, 100, 30, 66, 92, 95, 85, 72, 58, 87, 59, 30, 56, 36, 49, 34, 89, 65, 57, 69, 92, 58, 63, 41, 63, 55, 79, 63, 88, 43, 59, 60, 62, 94, 97, 70, 34, 89, 40, 70, 59, 62, 71, 74, 42, 32, 58, 75, 68, 64, 79, 77, 80, 96, 51, 60, 73, 77, 93, 38, 54, 85, 39, 63, 61, 92, 32, 77, 82, 42, 48, 67, 41, 96, 64, 39, 84, 54, 65, 38, 100, 82, 53, 32, 79, 81, 49, 83, 46, 50, 85, 95, 60, 42, 63, 36, 62, 96, 59, 99, 75, 37, 86, 38, 76, 50, 72, 84, 40, 80, 90, 89, 39, 86, 48, 69, 43, 99, 84, 47, 78, 80, 53, 72, 61, 30, 38, 63, 93, 85, 70, 61, 82, 93, 89, 64, 48, 62, 92, 77, 68, 71, 76, 95, 49, 79, 84, 38, 50, 45, 33, 32, 66, 89, 89, 85, 77, 41, 97, 98, 36, 81, 63, 51, 73, 66, 34, 66, 36, 71, 65, 40, 35, 72, 55, 61, 40, 99, 83, 77, 38, 68, 95, 62, 36, 45, 79, 39, 89, 50, 51, 56, 87, 61, 89, 61, 94, 64, 40, 38, 70, 33, 80, 59, 69, 86, 99, 97, 77, 70, 64, 51, 48, 85, 52, 75, 92, 70, 82, 49, 71, 100, 53, 73, 68, 86, 69, 53, 38, 89, 89, 92, 82, 84, 54, 85, 48, 46, 43, 61, 94, 61, 57, 85, 88, 30, 92]
            }
        },
        features=[],
        producto="Test Producto",
        velocidad=100,
        formato="22 x 10 x30",
        ancho_bobina=690,
        debug_params=[]
    )
